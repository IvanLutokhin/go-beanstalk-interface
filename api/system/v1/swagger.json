{
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "schemes": [
    "http",
    "https"
  ],
  "swagger": "2.0",
  "info": {
    "description": "Documentation of Beanstalk API.",
    "title": "Beanstalk API",
    "version": "1"
  },
  "basePath": "/api/system/v1",
  "paths": {
    "/jobs": {
      "post": {
        "description": "Creates a new job",
        "tags": [
          "jobs"
        ],
        "operationId": "create-job",
        "parameters": [
          {
            "name": "Body",
            "in": "body",
            "schema": {
              "$ref": "#/definitions/CreateJobRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/CreateJobSuccessResponse"
          },
          "400": {
            "$ref": "#/responses/BadRequestResponse"
          }
        }
      }
    },
    "/jobs/{id}": {
      "get": {
        "description": "Gets data of the specified job",
        "tags": [
          "jobs"
        ],
        "operationId": "get-job",
        "parameters": [
          {
            "type": "integer",
            "format": "int64",
            "example": 1,
            "x-go-name": "ID",
            "description": "Job identifier",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/GetJobSuccessResponse"
          },
          "400": {
            "$ref": "#/responses/BadRequestResponse"
          },
          "404": {
            "$ref": "#/responses/NotFoundResponse"
          }
        }
      }
    },
    "/jobs/{id}/bury": {
      "post": {
        "description": "Bury the specified job",
        "tags": [
          "jobs"
        ],
        "operationId": "bury-job",
        "parameters": [
          {
            "type": "integer",
            "format": "int64",
            "example": 1,
            "x-go-name": "ID",
            "description": "Job identifier",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "name": "Body",
            "in": "body",
            "schema": {
              "$ref": "#/definitions/BuryJobRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/SuccessResponse"
          },
          "400": {
            "$ref": "#/responses/BadRequestResponse"
          },
          "404": {
            "$ref": "#/responses/NotFoundResponse"
          }
        }
      }
    },
    "/jobs/{id}/delete": {
      "post": {
        "description": "Delete the specified job",
        "tags": [
          "jobs"
        ],
        "operationId": "delete-job",
        "parameters": [
          {
            "type": "integer",
            "format": "int64",
            "example": 1,
            "x-go-name": "ID",
            "description": "Job identifier",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/SuccessResponse"
          },
          "404": {
            "$ref": "#/responses/NotFoundResponse"
          }
        }
      }
    },
    "/jobs/{id}/kick": {
      "post": {
        "description": "Kick the specified job",
        "tags": [
          "jobs"
        ],
        "operationId": "kick-job",
        "parameters": [
          {
            "type": "integer",
            "format": "int64",
            "example": 1,
            "x-go-name": "ID",
            "description": "Job identifier",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/SuccessResponse"
          },
          "404": {
            "$ref": "#/responses/NotFoundResponse"
          }
        }
      }
    },
    "/jobs/{id}/release": {
      "post": {
        "description": "Release the specified job",
        "tags": [
          "jobs"
        ],
        "operationId": "release-job",
        "parameters": [
          {
            "type": "integer",
            "format": "int64",
            "example": 1,
            "x-go-name": "ID",
            "description": "Job identifier",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "name": "Body",
            "in": "body",
            "schema": {
              "$ref": "#/definitions/ReleaseJobRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/SuccessResponse"
          },
          "400": {
            "$ref": "#/responses/BadRequestResponse"
          },
          "404": {
            "$ref": "#/responses/NotFoundResponse"
          }
        }
      }
    },
    "/jobs/{id}/stats": {
      "get": {
        "description": "Statistics of specified job",
        "tags": [
          "jobs"
        ],
        "operationId": "job-stats",
        "parameters": [
          {
            "type": "integer",
            "format": "int64",
            "example": 1,
            "x-go-name": "ID",
            "description": "Job identifier",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/JobStatsSuccessResponse"
          },
          "404": {
            "$ref": "#/responses/NotFoundResponse"
          }
        }
      }
    },
    "/server/stats": {
      "get": {
        "description": "Beanstalk server statistics",
        "tags": [
          "server"
        ],
        "operationId": "server-stats",
        "responses": {
          "200": {
            "$ref": "#/responses/ServerStatsSuccessResponse"
          }
        }
      }
    },
    "/tubes": {
      "get": {
        "description": "List of exists tubes",
        "tags": [
          "tubes"
        ],
        "operationId": "list-of-tubes",
        "responses": {
          "200": {
            "$ref": "#/responses/TubesSuccessResponse"
          }
        }
      }
    },
    "/tubes/{name}/stats": {
      "get": {
        "description": "Gets statistics of specified tube",
        "tags": [
          "tubes"
        ],
        "operationId": "tube-stats",
        "parameters": [
          {
            "type": "string",
            "example": "default",
            "x-go-name": "Name",
            "description": "Tube name",
            "name": "name",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/TubeStatsSuccessResponse"
          },
          "404": {
            "$ref": "#/responses/NotFoundResponse"
          }
        }
      }
    }
  },
  "definitions": {
    "BuryJobRequest": {
      "description": "Request types",
      "type": "object",
      "properties": {
        "priority": {
          "type": "integer",
          "format": "uint32",
          "x-go-name": "Priority"
        }
      },
      "x-go-package": "github.com/IvanLutokhin/go-beanstalk-interface/internal/app/api/net/http/handler/api/system/v1"
    },
    "CreateJobRequest": {
      "description": "Request types",
      "type": "object",
      "properties": {
        "data": {
          "type": "string",
          "x-go-name": "Data"
        },
        "delay": {
          "$ref": "#/definitions/Duration"
        },
        "priority": {
          "type": "integer",
          "format": "uint32",
          "x-go-name": "Priority"
        },
        "ttr": {
          "$ref": "#/definitions/Duration"
        },
        "tube": {
          "type": "string",
          "x-go-name": "Tube"
        }
      },
      "x-go-package": "github.com/IvanLutokhin/go-beanstalk-interface/internal/app/api/net/http/handler/api/system/v1"
    },
    "CreateJobResponse": {
      "description": "Response types",
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "ID"
        },
        "tube": {
          "type": "string",
          "x-go-name": "Tube"
        }
      },
      "x-go-package": "github.com/IvanLutokhin/go-beanstalk-interface/internal/app/api/net/http/handler/api/system/v1"
    },
    "Duration": {
      "description": "A Duration represents the elapsed time between two instants\nas an int64 nanosecond count. The representation limits the\nlargest representable duration to approximately 290 years.",
      "type": "integer",
      "format": "int64",
      "x-go-package": "time"
    },
    "ErrorData": {
      "type": "object",
      "properties": {
        "errors": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "x-go-name": "Errors"
        }
      },
      "x-go-package": "github.com/IvanLutokhin/go-beanstalk-interface/internal/app/api/net/http/handler/api/system/v1"
    },
    "JobResponse": {
      "description": "Response types",
      "type": "object",
      "properties": {
        "data": {
          "type": "string",
          "x-go-name": "Data"
        }
      },
      "x-go-package": "github.com/IvanLutokhin/go-beanstalk-interface/internal/app/api/net/http/handler/api/system/v1"
    },
    "JobStatsResponse": {
      "description": "Response types",
      "type": "object",
      "properties": {
        "stats": {
          "$ref": "#/definitions/StatsJob"
        }
      },
      "x-go-package": "github.com/IvanLutokhin/go-beanstalk-interface/internal/app/api/net/http/handler/api/system/v1"
    },
    "ReleaseJobRequest": {
      "description": "Request types",
      "type": "object",
      "properties": {
        "delay": {
          "$ref": "#/definitions/Duration"
        },
        "priority": {
          "type": "integer",
          "format": "uint32",
          "x-go-name": "Priority"
        }
      },
      "x-go-package": "github.com/IvanLutokhin/go-beanstalk-interface/internal/app/api/net/http/handler/api/system/v1"
    },
    "ServerStatsResponse": {
      "description": "Response types",
      "type": "object",
      "properties": {
        "stats": {
          "$ref": "#/definitions/Stats"
        }
      },
      "x-go-package": "github.com/IvanLutokhin/go-beanstalk-interface/internal/app/api/net/http/handler/api/system/v1"
    },
    "Stats": {
      "type": "object",
      "properties": {
        "binlogCurrentIndex": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "BinlogCurrentIndex"
        },
        "binlogMaxSize": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "BinlogMaxSize"
        },
        "binlogOldestIndex": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "BinlogOldestIndex"
        },
        "binlogRecordsMigrated": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "BinlogRecordsMigrated"
        },
        "binlogRecordsWritten": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "BinlogRecordsWritten"
        },
        "cmdBury": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdBury"
        },
        "cmdDelete": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdDelete"
        },
        "cmdIgnore": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdIgnore"
        },
        "cmdKick": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdKick"
        },
        "cmdListTubeUsed": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdListTubeUsed"
        },
        "cmdListTubes": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdListTubes"
        },
        "cmdListTubesWatched": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdListTubesWatched"
        },
        "cmdPauseTube": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdPauseTube"
        },
        "cmdPeek": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdPeek"
        },
        "cmdPeekBuried": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdPeekBuried"
        },
        "cmdPeekDelayed": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdPeekDelayed"
        },
        "cmdPeekReady": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdPeekReady"
        },
        "cmdPeekReserve": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdPeekReserve"
        },
        "cmdPeekUse": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdPeekUse"
        },
        "cmdPut": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdPut"
        },
        "cmdRelease": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdRelease"
        },
        "cmdStats": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdStats"
        },
        "cmdStatsJob": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdStatsJob"
        },
        "cmdStatsTube": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdStatsTube"
        },
        "cmdWatch": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdWatch"
        },
        "currentConnections": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentConnections"
        },
        "currentJobsBuried": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentJobsBuried"
        },
        "currentJobsDelayed": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentJobsDelayed"
        },
        "currentJobsReady": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentJobsReady"
        },
        "currentJobsReserved": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentJobsReserved"
        },
        "currentJobsUrgent": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentJobsUrgent"
        },
        "currentProducers": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentProducers"
        },
        "currentTubes": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentTubes"
        },
        "currentWaiting": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentWaiting"
        },
        "currentWorkers": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentWorkers"
        },
        "draining": {
          "type": "boolean",
          "x-go-name": "Draining"
        },
        "hostname": {
          "type": "string",
          "x-go-name": "Hostname"
        },
        "id": {
          "type": "string",
          "x-go-name": "ID"
        },
        "jobTimeouts": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "JobTimeouts"
        },
        "maxJobSize": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "MaxJobSize"
        },
        "os": {
          "type": "string",
          "x-go-name": "OS"
        },
        "pid": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "PID"
        },
        "platform": {
          "type": "string",
          "x-go-name": "Platform"
        },
        "rUsageSTime": {
          "type": "number",
          "format": "double",
          "x-go-name": "RUsageSTime"
        },
        "rUsageUTime": {
          "type": "number",
          "format": "double",
          "x-go-name": "RUsageUTime"
        },
        "totalConnections": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "TotalConnections"
        },
        "totalJobs": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "TotalJobs"
        },
        "uptime": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Uptime"
        },
        "version": {
          "type": "string",
          "x-go-name": "Version"
        }
      },
      "x-go-package": "github.com/IvanLutokhin/go-beanstalk"
    },
    "StatsJob": {
      "type": "object",
      "properties": {
        "age": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Age"
        },
        "buries": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Buries"
        },
        "delay": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Delay"
        },
        "file": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "File"
        },
        "id": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "ID"
        },
        "kicks": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Kicks"
        },
        "priority": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Priority"
        },
        "releases": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Releases"
        },
        "reserves": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Reserves"
        },
        "state": {
          "type": "string",
          "x-go-name": "State"
        },
        "timeLeft": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "TimeLeft"
        },
        "timeouts": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Timeouts"
        },
        "ttr": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "TTR"
        },
        "tube": {
          "type": "string",
          "x-go-name": "Tube"
        }
      },
      "x-go-package": "github.com/IvanLutokhin/go-beanstalk"
    },
    "StatsTube": {
      "type": "object",
      "properties": {
        "cmdDelete": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdDelete"
        },
        "cmdPauseTube": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CmdPauseTube"
        },
        "currentJobsBuried": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentJobsBuried"
        },
        "currentJobsDelayed": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentJobsDelayed"
        },
        "currentJobsReady": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentJobsReady"
        },
        "currentJobsReserved": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentJobsReserved"
        },
        "currentJobsUrgent": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentJobsUrgent"
        },
        "currentUsing": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentUsing"
        },
        "currentWaiting": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentWaiting"
        },
        "currentWatching": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "CurrentWatching"
        },
        "name": {
          "type": "string",
          "x-go-name": "Name"
        },
        "pause": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "Pause"
        },
        "pauseTimeLeft": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "PauseTimeLeft"
        },
        "totalJobs": {
          "type": "integer",
          "format": "int64",
          "x-go-name": "TotalJobs"
        }
      },
      "x-go-package": "github.com/IvanLutokhin/go-beanstalk"
    },
    "TubeStatsResponse": {
      "description": "Response types",
      "type": "object",
      "properties": {
        "stats": {
          "$ref": "#/definitions/StatsTube"
        }
      },
      "x-go-package": "github.com/IvanLutokhin/go-beanstalk-interface/internal/app/api/net/http/handler/api/system/v1"
    },
    "TubesResponse": {
      "description": "Response types",
      "type": "object",
      "properties": {
        "tubes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "x-go-name": "Tubes"
        }
      },
      "x-go-package": "github.com/IvanLutokhin/go-beanstalk-interface/internal/app/api/net/http/handler/api/system/v1"
    }
  },
  "responses": {
    "BadRequestResponse": {
      "description": "",
      "schema": {
        "type": "object",
        "properties": {
          "data": {
            "$ref": "#/definitions/ErrorData"
          },
          "message": {
            "type": "string",
            "default": "Bad Request",
            "x-go-name": "Message"
          },
          "status": {
            "type": "string",
            "default": "failure",
            "x-go-name": "Status"
          }
        }
      }
    },
    "CreateJobSuccessResponse": {
      "description": "",
      "schema": {
        "type": "object",
        "properties": {
          "data": {
            "$ref": "#/definitions/CreateJobResponse"
          },
          "status": {
            "type": "string",
            "default": "success",
            "x-go-name": "Status"
          }
        }
      }
    },
    "GetJobSuccessResponse": {
      "description": "",
      "schema": {
        "type": "object",
        "properties": {
          "data": {
            "$ref": "#/definitions/JobResponse"
          },
          "status": {
            "type": "string",
            "default": "success",
            "x-go-name": "Status"
          }
        }
      }
    },
    "JobStatsSuccessResponse": {
      "description": "",
      "schema": {
        "type": "object",
        "properties": {
          "data": {
            "$ref": "#/definitions/JobStatsResponse"
          },
          "status": {
            "type": "string",
            "default": "success",
            "x-go-name": "Status"
          }
        }
      }
    },
    "NotFoundResponse": {
      "description": "",
      "schema": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "default": "Not Found",
            "x-go-name": "Message"
          },
          "status": {
            "type": "string",
            "default": "failure",
            "x-go-name": "Status"
          }
        }
      }
    },
    "ServerStatsSuccessResponse": {
      "description": "",
      "schema": {
        "type": "object",
        "properties": {
          "data": {
            "$ref": "#/definitions/ServerStatsResponse"
          },
          "status": {
            "type": "string",
            "default": "success",
            "x-go-name": "Status"
          }
        }
      }
    },
    "SuccessResponse": {
      "description": "",
      "schema": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "default": "success",
            "x-go-name": "Status"
          }
        }
      }
    },
    "TubeStatsSuccessResponse": {
      "description": "",
      "schema": {
        "type": "object",
        "properties": {
          "data": {
            "$ref": "#/definitions/TubeStatsResponse"
          },
          "status": {
            "type": "string",
            "default": "success",
            "x-go-name": "Status"
          }
        }
      }
    },
    "TubesSuccessResponse": {
      "description": "",
      "schema": {
        "type": "object",
        "properties": {
          "data": {
            "$ref": "#/definitions/TubesResponse"
          },
          "status": {
            "type": "string",
            "default": "success",
            "x-go-name": "Status"
          }
        }
      }
    }
  }
}